{"version":3,"sources":["js/utils/Dom.js","js/utils/Check.js","js/utils/MathUtils.js","js/utils/BindAll.js","js/utils/Observer.js","js/utils/ImageLoader.js","js/utils/Sniff.js","js/utils/Ease.js","js/utils/Throttle.js","js/core/ticker.js","js/utils/Delay.js","js/utils/GridOverlay.js","js/utils/index.js","js/core/ro.js","js/core/index.js","js/vau/vau.js","js/vau/index.js","js/animations/nscroller.js","js/animations/tablehover.js","js/animations/observerEffect.js","js/animations/index.js","js/main.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["qs","s","o","document","querySelector","qsa","querySelectorAll","bounds","el","getBoundingClientRect","isUndefined","undefined","isArray","constructor","Array","lerp","a","b","n","map","val","c","d","clamp","min","max","Math","round","p","invlerp","damp","lambda","dt","exp","bindAll","ctx","arr","method","bind","Observer","create","options","change","entries","observer","forEach","entry","unobserve","node","callback","target","isIntersecting","IntersectionObserver","root","rootMargin","offset","threshold","observe","ImageLoader","src","update","finalUpdate","loaded","length","running","i","img","Image","promise","decode","catch","err","console","warn","finally","push","Promise","all","then","Sniff","uA","navigator","userAgent","toLowerCase","safari","test","safariVersion","match","replace","firefox","indexOf","chrome","ie","webkit","edge","ios","mac","pf","windows","android","androidMobile","mobile","platform","maxTouchPoints","touchDevice","window","mutationObserver","Ease","linear","m","i1","cos","PI","o1","sin","io1","i2","o2","io2","i3","o3","io3","i4","o4","io4","i5","o5","io5","i6","pow","o6","io6","Throttle","del","delay","onlyAtEnd","cb","last","t","firstTime","now","Performance","clearTimeout","setTimeout","Ticker","train","Set","once","instance","lastFrameTime","nextFrame","targetFPS","targetDelta","maxDelta","listeners","paused","name","begin","end","add","ref","delete","animation","elapsedTime","delta","requestAnimationFrame","run","cancelAnimationFrame","performance","addEventListener","e","visibilityState","pause","play","ticker","id","delayTrain","Delay","duration","elapsed","init","destroy","filter","gridOverlay","cols","startVisible","grid","toggle","frag","createDocumentFragment","createElement","appendChild","innerHTML","state","style","opacity","RO","listen","event","vw","innerWidth","vh","innerHeight","ro","vauTrain","createTransform","tx","ty","sx","sy","rx","ry","rz","transform","props","units","Vau","targets","generic","easing","complete","autoplay","updateOpacity","updateTransform","callbacks","config","easeProgress","dom","txs","Object","assign","nco","DOMprops","genericProps","progress","propName","prop","setDOM","Timeline","defaults","restart","Scroller","opts","settings","inertia","dragSpeed","log","docEl","scrollingElement","documentElement","scrollTo","syncTrain","anchors","resize","scrollContent","scrollSections","cur","drag","isDragging","snap","x","y","lastScroll","unlock","shouldAnimate","deltaNorm","setCurrent","scrollHeight","locked","deltaY","passive","shiftDir","spaceGap","key","code","nodeName","shiftKey","start","pointer","isTouch","PointerEvent","changedTouches","clientY","diff","abs","dataset","top","body","overscrollBehavior","cache","section","offsetTop","speed","scrollSpeed","parseFloat","visible","bottom","animComplete","pointerEvents","pageYOffset","TableHover","table","getElementById","rows","activeRow","currentDelay","row","classList","remove","enterStyle","leaveStyle","ObserverEffect","ismobile","limit","observers","control","toVisible","toHidden","lock","splitter","wrapperSelector","targetSelector","visibleClass","paras","canvasEl","ghost","transferControlToOffscreen","context","getContext","para","content","words","textContent","split","lines","curline","compStyle","getComputedStyle","font","getPropertyValue","word","toUpperCase","maxwidth","num_words","curword","trim","line","join","measureText","width","pop","paraFrag","wrapperEl","lineEl","innerText","onEntry","onExit","els","revealId","revealDelay","disconnect","palette","blue","orange","light","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","getParents","modules","parents","k","dep","concat","Function","deps","cached","some"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["export const qs = (s, o = document) => o.querySelector(s);\r\n\r\nexport const qsa = (s, o = document) => [...o.querySelectorAll(s)];\r\n\r\nexport const bounds = (el) => el.getBoundingClientRect();\r\n","export const isUndefined = (o) => o === undefined;\r\n\r\nexport const isArray = (o) => o.constructor === Array;\r\n","export const lerp = (a, b, n) => (1 - n) * a + n * b;\r\n\r\nexport const map = (val, a, b, c, d) => ((val - a) * (d - c)) / (b - a) + c;\r\n\r\nexport const clamp = (val, min, max) => Math.min(Math.max(min, val), max);\r\n\r\nexport const round = (val, p = 1e2) => Math.round(val * p) / p;\r\n\r\nexport const invlerp = (a, b, n) => clamp(0, (n - a) / (b - a), 1);\r\n\r\n// frame delta aware verion of lerp\r\n// lambda = Math.log(1 - r/15) ~approx\r\nexport const damp = (a, b, lambda, dt) => {\r\n  return lerp(a, b, 1 - Math.exp(lambda * dt));\r\n};\r\n","// bindAll(this, ['bindFunction1', 'bindFunction2', 'bindFunction3'])\r\n\r\nexport const bindAll = (ctx, arr) => {\r\n  for (const method of arr) {\r\n    ctx[method] = ctx[method].bind(ctx);\r\n  }\r\n};\r\n","export const Observer = () => {\r\n  const create = (options) => {\r\n    const change = (entries, observer) => {\r\n      entries.forEach((entry) => {\r\n        const unobserve = (node) => observer.unobserve(node);\r\n        options.callback(entry.target, entry.isIntersecting, unobserve, entry);\r\n      });\r\n    };\r\n\r\n    const observer = new IntersectionObserver(change, {\r\n      root: null,\r\n      rootMargin: `${options.offset || 0}`,\r\n      threshold: options.threshold || 0,\r\n    });\r\n\r\n    return {\r\n      observe: (node) => observer.observe(node),\r\n    };\r\n  };\r\n\r\n  return {\r\n    create,\r\n  };\r\n};\r\n","export const ImageLoader = ({ src, update, finalUpdate }) => {\r\n  let loaded = 0;\r\n  const n = src.length;\r\n  const running = new Array(n);\r\n  src.forEach((el, i) => {\r\n    let img = new Image();\r\n    img.src = el.src;\r\n    const promise = img\r\n      .decode()\r\n      .catch((err) => {\r\n        console.warn(`[IMG LOADER:]`, err);\r\n      })\r\n      .finally(() => {\r\n        update && update(el, i, (++loaded / n) * 100);\r\n        img = null;\r\n      });\r\n    running.push(promise);\r\n  });\r\n  Promise.all(running).then(() => {\r\n    finalUpdate && finalUpdate();\r\n  });\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * Example usage\r\n *\r\n *\r\n */\r\n\r\n// load({\r\n//   src: document.querySelectorAll('[data-gl-image]`)\r\n//   update: (img, progress) => {\r\n//     console.log(\"Progress:\", progress);\r\n//   },\r\n//   finalUpdate: () => {\r\n//     console.log(\"All loaded!\");\r\n//   },\r\n// });\r\n","export const Sniff = {\r\n  get uA() {\r\n    return navigator.userAgent.toLowerCase();\r\n  },\r\n  get safari() {\r\n    return /^((?!chrome|android).)*safari/.test(this.uA);\r\n  },\r\n  get safariVersion() {\r\n    return +(this.uA.match(/version\\/[\\d\\.]+.*safari/) || [\"-1\"])[0]\r\n      .replace(/^version\\//, \"\")\r\n      .replace(/ safari$/, \"\");\r\n  },\r\n  get firefox() {\r\n    return this.uA.indexOf(\"firefox\") > -1;\r\n  },\r\n  get chrome() {\r\n    return /chrome/.test(this.uA);\r\n  },\r\n  get ie() {\r\n    return /msie|trident/.test(this.uA);\r\n  },\r\n  get webkit() {\r\n    return /webkit/.test(this.uA);\r\n  },\r\n  get edge() {\r\n    return /edge\\/\\d./.test(this.uA);\r\n  },\r\n  get ios() {\r\n    return /ip(hone|[ao]d)/.test(this.uA);\r\n  },\r\n  get mac() {\r\n    return this.pf.indexOf(\"mac\") > -1;\r\n  },\r\n  get windows() {\r\n    return this.pf.indexOf(\"win\") > -1;\r\n  },\r\n  get android() {\r\n    return /android/.test(this.uA);\r\n  },\r\n  get androidMobile() {\r\n    return /android.*mobile/.test(this.uA);\r\n  },\r\n  get mobile() {\r\n    return (\r\n      this.androidMobile ||\r\n      this.ios ||\r\n      (\"MacIntel\" === navigator.platform && 1 < navigator.maxTouchPoints)\r\n    );\r\n  },\r\n  get touchDevice() {\r\n    return \"ontouchstart\" in window;\r\n  },\r\n  get mutationObserver() {\r\n    return \"MutationObserver\" in window;\r\n  },\r\n};\r\n","export const Ease = {\r\n  linear: (m) => {\r\n    return m;\r\n  },\r\n  i1: (m) => {\r\n    return -Math.cos(m * (Math.PI / 2)) + 1;\r\n  },\r\n  o1: (m) => {\r\n    return Math.sin(m * (Math.PI / 2));\r\n  },\r\n  io1: (m) => {\r\n    return -0.5 * (Math.cos(Math.PI * m) - 1);\r\n  },\r\n  i2: (m) => {\r\n    return m * m;\r\n  },\r\n  o2: (m) => {\r\n    return m * (2 - m);\r\n  },\r\n  io2: (m) => {\r\n    return m < 0.5 ? 2 * m * m : -1 + (4 - 2 * m) * m;\r\n  },\r\n  i3: (m) => {\r\n    return m * m * m;\r\n  },\r\n  o3: (m) => {\r\n    return --m * m * m + 1;\r\n  },\r\n  io3: (m) => {\r\n    return m < 0.5 ? 4 * m * m * m : (m - 1) * (2 * m - 2) * (2 * m - 2) + 1;\r\n  },\r\n  i4: (m) => {\r\n    return m * m * m * m;\r\n  },\r\n  o4: (m) => {\r\n    return 1 - --m * m * m * m;\r\n  },\r\n  io4: (m) => {\r\n    return m < 0.5 ? 8 * m * m * m * m : 1 - 8 * --m * m * m * m;\r\n  },\r\n  i5: (m) => {\r\n    return m * m * m * m * m;\r\n  },\r\n  o5: (m) => {\r\n    return 1 + --m * m * m * m * m;\r\n  },\r\n  io5: (m) => {\r\n    return m < 0.5 ? 16 * m * m * m * m * m : 1 + 16 * --m * m * m * m * m;\r\n  },\r\n  i6: (m) => {\r\n    return m === 0 ? 0 : Math.pow(2, 10 * (m - 1));\r\n  },\r\n  o6: (m) => {\r\n    return m === 1 ? 1 : 1 - Math.pow(2, -10 * m);\r\n  },\r\n  io6: (m) => {\r\n    if (m === 0) return 0;\r\n    if (m === 1) return 1;\r\n    if ((m /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (m - 1));\r\n    return 0.5 * (-Math.pow(2, -10 * --m) + 2);\r\n  },\r\n};\r\n","/*\r\n\r\nconst throttledCallback = new Throttle({\r\n    delay: 200,\r\n    onlyAtEnd: true,\r\n    cb: callback\r\n})\r\nthrottledCallback.run()\r\n\r\n*/\r\n\r\nexport class Throttle {\r\n  constructor(o) {\r\n    this.del = o.delay;\r\n    this.onlyAtEnd = o.onlyAtEnd;\r\n    this.cb = o.cb;\r\n    this.last = 0;\r\n    this.t = 0;\r\n  }\r\n\r\n  run() {\r\n    let firstTime = true;\r\n    const now = Performance.now();\r\n    if ((this.last && now < this.last + this.del) || firstTime) {\r\n      firstTime = false;\r\n      clearTimeout(this.t);\r\n      this.t = setTimeout(() => {\r\n        this.last = now;\r\n        this.cb();\r\n      }, this.del);\r\n    } else {\r\n      this.last = now;\r\n      if (!this.onlyAtEnd) {\r\n        firstTime = false;\r\n        this.cb();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Sniff } from \"../utils/Sniff\";\r\nimport { bindAll } from \"../utils/BindAll\";\r\n\r\n/**\r\n *\r\n * Global ticker to reduce\r\n * memory overhead\r\n *\r\n * TODO:\r\n * Update to use Array instead of Set\r\n */\r\n\r\nclass Ticker {\r\n  constructor() {\r\n    this.train = new Set();\r\n    this.once = [];\r\n\r\n    this.instance = {\r\n      lastFrameTime: 0,\r\n      nextFrame: null,\r\n      targetFPS: 60,\r\n    };\r\n\r\n    this.targetDelta = 1000 / this.instance.targetFPS;\r\n    this.maxDelta = this.targetDelta * 2;\r\n    this.listeners();\r\n\r\n    bindAll(this, [\"run\", \"play\", \"pause\"]);\r\n\r\n    this.paused = true;\r\n  }\r\n\r\n  add({ name, update, begin, end }) {\r\n    this.train.add({\r\n      name,\r\n      update,\r\n      begin,\r\n      end,\r\n    });\r\n    return this.ref(name);\r\n  }\r\n\r\n  nextFrame(update) {\r\n    this.once.push(update);\r\n  }\r\n\r\n  remove(name) {\r\n    for (const o of this.train) {\r\n      if (o.name === name) {\r\n        return this.train.delete(o);\r\n      }\r\n    }\r\n  }\r\n\r\n  ref(name) {\r\n    for (const o of this.train) {\r\n      if (o.name === name) {\r\n        return o.animation;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  run(elapsedTime = 0) {\r\n    let delta = elapsedTime - (this.instance.lastFrameTime || 0);\r\n    this.instance.nextFrame = requestAnimationFrame(this.run);\r\n    this.instance.lastFrameTime = elapsedTime;\r\n\r\n    delta = Math.min(delta, this.targetDelta);\r\n\r\n    for (const o of this.train) {\r\n      o.begin && o.begin();\r\n      o.update(delta, elapsedTime);\r\n      o.end && o.end();\r\n    }\r\n\r\n    for (const update of this.once) {\r\n      update(delta, elapsedTime);\r\n    }\r\n\r\n    this.once = [];\r\n  }\r\n\r\n  pause() {\r\n    if (this.paused) return;\r\n    cancelAnimationFrame(this.instance.nextFrame);\r\n    this.paused = true;\r\n  }\r\n\r\n  play() {\r\n    if (!this.paused) return;\r\n    this.paused = false;\r\n    this.instance.lastFrameTime = performance.now();\r\n    requestAnimationFrame(this.run);\r\n  }\r\n\r\n  listeners() {\r\n    document.addEventListener(\"visibilitychange\", (e) => {\r\n      document.visibilityState === \"hidden\" ? this.pause() : this.play();\r\n    });\r\n\r\n    !Sniff.safari &&\r\n      window.addEventListener(\"pagehide\", (e) => {\r\n        this.pause();\r\n      });\r\n  }\r\n}\r\n\r\n// Global ticker\r\nconst ticker = new Ticker();\r\nticker.play();\r\nexport { ticker };\r\n","import { ticker } from \"../core/ticker\";\r\nimport { bindAll } from \"./BindAll\";\r\n\r\n/**\r\n *\r\n *\r\n * Utility to run callbacks after set delay\r\n *\r\n *\r\n */\r\n\r\nlet id = 0;\r\nlet delayTrain = [];\r\nticker.add({\r\n  name: \"delay\",\r\n  update: (delta) => {\r\n    delayTrain.forEach((o) => o.update(delta));\r\n  },\r\n});\r\n\r\nclass Delay {\r\n  constructor(update, duration) {\r\n    this.update = update;\r\n    this.duration = duration;\r\n    this.elapsed = 0;\r\n    this.paused = false;\r\n\r\n    bindAll(this, [\"run\", \"play\", \"pause\", \"destroy\"]);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.id = id++;\r\n    delayTrain.push({ id: this.id, update: this.run });\r\n  }\r\n\r\n  run(delta) {\r\n    if (this.paused) return;\r\n    this.elapsed += delta;\r\n    if (this.elapsed >= this.duration) {\r\n      this.update();\r\n      this.destroy();\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this.paused = false;\r\n  }\r\n\r\n  pause() {\r\n    this.paused = true;\r\n  }\r\n\r\n  destroy() {\r\n    delayTrain = delayTrain.filter((el) => el.id !== this.id);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport { Delay };\r\n","export const gridOverlay = ({ cols = 12, startVisible = true }) => {\r\n  const grid = document.querySelector(\"grid-overlay\");\r\n  const toggle = document.querySelector(\"grid-toggle\");\r\n\r\n  if (toggle !== null && grid !== null) {\r\n    const frag = document.createDocumentFragment();\r\n    for (let i = 0; i < cols; i++) {\r\n      const el = document.createElement(\"div\");\r\n      frag.appendChild(el);\r\n    }\r\n    grid.innerHTML = null;\r\n    grid.appendChild(frag);\r\n\r\n    let state = startVisible;\r\n    grid.style.opacity = state ? 1 : 0;\r\n\r\n    state = !state;\r\n    toggle.addEventListener(\"click\", () => {\r\n      grid.style.opacity = state ? 1 : 0;\r\n      state = !state;\r\n    });\r\n  }\r\n};\r\n","import { qs, qsa, bounds } from \"./Dom\";\r\nimport { isUndefined, isArray } from \"./Check\";\r\nimport { lerp, round, clamp, invlerp, map, damp } from \"./MathUtils\";\r\nimport { bindAll } from \"./BindAll\";\r\nimport { Observer } from \"./Observer\";\r\nimport { ImageLoader } from \"./ImageLoader\";\r\nimport { Sniff } from \"./Sniff\";\r\nimport { Ease } from \"./Ease.js\";\r\nimport { Throttle } from \"./Throttle\";\r\nimport { Delay } from \"./Delay\";\r\nimport { gridOverlay } from \"./GridOverlay\";\r\n\r\nexport {\r\n  qs,\r\n  qsa,\r\n  bounds,\r\n  isUndefined,\r\n  isArray,\r\n  lerp,\r\n  round,\r\n  clamp,\r\n  invlerp,\r\n  map,\r\n  damp,\r\n  bindAll,\r\n  Observer,\r\n  ImageLoader,\r\n  gridOverlay,\r\n  Sniff,\r\n  Ease,\r\n  Throttle,\r\n  Delay,\r\n};\r\n","import { Sniff } from \"../utils\";\r\n\r\nclass RO {\r\n  constructor() {\r\n    this.train = new Set();\r\n    this.listen();\r\n  }\r\n\r\n  add({ name, update }) {\r\n    this.train.add({ name, update });\r\n  }\r\n\r\n  listen() {\r\n    const event = Sniff.mobile ? \"orientationchange\" : \"resize\";\r\n    window.addEventListener(event, () => {\r\n      const bounds = { vw: window.innerWidth, vh: window.innerHeight };\r\n      this.train.forEach((o) => {\r\n        o.update(bounds);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nconst ro = new RO();\r\nexport { ro };\r\n","import { ticker } from \"./ticker\";\r\nimport { ro } from \"./ro\";\r\n\r\nexport { ticker, ro };\r\n","import { lerp, clamp, Ease, qsa, isArray, bindAll, Delay } from \"../utils\";\r\nimport { ticker } from \"../core\";\r\n\r\n/**\r\n *\r\n * TODO:\r\n *\r\n * 1) Decouple timer/progress and\r\n * DOM update callbacks\r\n *\r\n * 3) Add reverse direction\r\n *\r\n * 5) Unset transform on complete?\r\n */\r\n\r\n/**\r\n *\r\n * Target API:\r\n *\r\n * new Vau({\r\n *   targets: [el],\r\n *   easing: \"io3\",\r\n *   duration: 1000,\r\n *   transform: {\r\n *     tx: [0, 100, \"%\"], // from, to, unit\r\n *     ty: 300, // take default 0 + px, else from previous animation in timeline\r\n *     sx: [1, 2], // scale\r\n *     rz: 90, // rotate3d, default unit - degrees\r\n *   },\r\n *   opacity: [1, 1],\r\n *   reverse: true\r\n * });\r\n *\r\n *\r\n */\r\n\r\n// -------------------------------------------------------------\r\n// -------------------------------------------------------------\r\n// -------------------------------------------------------------\r\n// -------------------------------------------------------------\r\n\r\n/**\r\n *\r\n *\r\n * Global animation train\r\n *\r\n *\r\n */\r\nlet id = 0;\r\nlet vauTrain = [];\r\nticker.add({\r\n  name: \"vau\",\r\n  update: (delta) => {\r\n    vauTrain.forEach((o) => o.update(delta));\r\n  },\r\n});\r\n\r\n// convert into matrix?\r\nconst createTransform = ({\r\n  tx = null, // [val, unit (px or %) ]\r\n  ty = null, // [val, unit (px or %) ]\r\n  sx = null, // val (0-1)\r\n  sy = null, // val (0-1)\r\n  rx = null, // val (deg)\r\n  ry = null, // val (deg)\r\n  rz = null, // val (deg)\r\n}) => {\r\n  let t = ``;\r\n  if (tx || ty || tx === 0 || ty === 0) {\r\n    !tx && tx !== 0 && (tx = [0, \"px\"]);\r\n    !ty && ty !== 0 && (ty = [0, \"px\"]);\r\n    t += `translate3d(${tx[0]}${tx[1]}, ${ty[0]}${ty[1]}, 0) `;\r\n  }\r\n  if (sx || sy || sx === 0 || sy === 0) {\r\n    !sx && sx !== 0 && (sx = 1);\r\n    !sy && sy !== 0 && (sy = 1);\r\n    t += `scale3d(${sx}, ${sy}, 1) `;\r\n  }\r\n  if (rx || ry || rz || rx === 0 || ry === 0 || rz === 0) {\r\n    !rx && rx !== 0 && (rx = 0);\r\n    !ry && ry !== 0 && (ry = 0);\r\n    !rz && rz !== 0 && (rz = 0);\r\n    t += `rotate3d(${rx}, ${ry}, ${rz}, ${rx + ry + rz}deg)`;\r\n  }\r\n  // console.log(t);\r\n  return t;\r\n};\r\n\r\nconst transform = (el, props, units) => {\r\n  props.tx = [props.tx, units[0]];\r\n  props.ty = [props.ty, units[1]];\r\n  el.style.transform = createTransform(props);\r\n};\r\n\r\n/**\r\n *\r\n *\r\n * Vau animations\r\n *\r\n *\r\n */\r\n\r\nclass Vau {\r\n  constructor({\r\n    targets = null,\r\n    generic = null,\r\n    transform = null,\r\n    opacity = null,\r\n    duration = 0,\r\n    delay = 0,\r\n    easing = \"linear\",\r\n    begin = null,\r\n    complete = null,\r\n    update = null,\r\n    autoplay = true,\r\n  }) {\r\n    // check if targets exist\r\n    let t;\r\n    if (typeof targets === typeof \"\") {\r\n      t = qsa(targets);\r\n    } else if (targets && isArray(targets)) {\r\n      t = targets;\r\n    } else {\r\n      t = false;\r\n    }\r\n\r\n    // default values for update flags\r\n    this.updateOpacity = false;\r\n    this.updateTransform = false;\r\n\r\n    if (t) {\r\n      // check if opacity needs updates\r\n      opacity && (this.updateOpacity = true);\r\n\r\n      // check if transform needs updates\r\n      transform && (this.updateTransform = true);\r\n    }\r\n\r\n    this.callbacks = {\r\n      begin,\r\n      complete,\r\n      update,\r\n    };\r\n\r\n    this.config = {\r\n      duration,\r\n      delay,\r\n      easing: Ease[easing],\r\n    };\r\n\r\n    this.state = {\r\n      targets: t,\r\n      elapsed: 0,\r\n      easeProgress: 0,\r\n      dom: {\r\n        transform: {},\r\n        opacity: [],\r\n      },\r\n      generic: [],\r\n    };\r\n\r\n    let txs = Object.assign(\r\n      {\r\n        tx: null,\r\n        ty: null,\r\n        sx: null,\r\n        sy: null,\r\n        rx: null,\r\n        ry: null,\r\n        rz: null,\r\n      },\r\n      transform\r\n    );\r\n\r\n    if (this.updateTransform) {\r\n      !txs.tx && (txs.tx = [\"\", \"\", \"px\"]);\r\n      !txs.ty && (txs.ty = [\"\", \"\", \"px\"]);\r\n      txs.tx && !txs.tx[2] && (txs.tx[2] = \"px\");\r\n      txs.ty && !txs.ty[2] && (txs.ty[2] = \"px\");\r\n    }\r\n\r\n    let nco = this.updateOpacity && isArray(opacity) ? opacity : [1, opacity];\r\n\r\n    // internal props array for tweening\r\n    this.DOMprops = {\r\n      transform: txs,\r\n      opacity: nco,\r\n    };\r\n    this.genericProps = generic ? generic : [];\r\n\r\n    // set current values to initial values\r\n    // if (this.updateTransform) {\r\n    //   for (const name in txs) {\r\n    //     const el = txs[name];\r\n    //     el && (this.state.dom.transform[name] = el[0]);\r\n    //   }\r\n    // }\r\n    // this.updateOpacity && (this.state.dom.opacity = nco[0]);\r\n\r\n    // this.state.generic = this.genericProps.map((el) => el[0]);\r\n\r\n    this.progress = 0;\r\n    this.paused = !autoplay;\r\n\r\n    bindAll(this, [\"update\", \"destroy\", \"pause\", \"play\", \"restart\"]);\r\n\r\n    this.init();\r\n\r\n    txs = null;\r\n    nco = null;\r\n  }\r\n\r\n  init() {\r\n    this.id = id++;\r\n    this.delay = new Delay(() => {\r\n      vauTrain.push({ id: this.id, update: this.update });\r\n      this.callbacks.begin && this.callbacks.begin(this.state);\r\n    }, this.config.delay);\r\n  }\r\n\r\n  // pass in delta time since last frame\r\n  update(t = 1000 / 60) {\r\n    // check play status\r\n    if (this.paused) return;\r\n\r\n    // final update\r\n    if (this.state.elapsed > this.config.duration) {\r\n      this.destroy();\r\n      this.callbacks.complete && this.callbacks.complete();\r\n      return;\r\n    }\r\n\r\n    this.state.elapsed += t;\r\n    this.progress = clamp(this.state.elapsed / this.config.duration, 0, 1);\r\n    this.state.easeProgress = this.config.easing(this.progress);\r\n\r\n    /**\r\n     *\r\n     *\r\n     * TODO: Combine lerps into one loop\r\n     *\r\n     */\r\n\r\n    //  update transform\r\n    if (this.updateTransform) {\r\n      for (const propName in this.DOMprops.transform) {\r\n        const val = this.DOMprops.transform[propName];\r\n        if (val) {\r\n          this.state.dom.transform[propName] = lerp(\r\n            val[0],\r\n            val[1],\r\n            this.state.easeProgress\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    // update opacity\r\n    if (this.updateOpacity) {\r\n      this.state.dom.opacity = lerp(\r\n        this.DOMprops.opacity[0],\r\n        this.DOMprops.opacity[1],\r\n        this.state.easeProgress\r\n      );\r\n    }\r\n\r\n    // update generic\r\n    let i = 0;\r\n    for (const prop of this.genericProps) {\r\n      this.state.generic[i++] = lerp(prop[0], prop[1], this.state.easeProgress);\r\n    }\r\n\r\n    this.callbacks.update && this.callbacks.update(this.state);\r\n    this.state.targets && this.setDOM(this.state.dom);\r\n  }\r\n\r\n  setDOM(props) {\r\n    for (const target of this.state.targets) {\r\n      this.updateTransform &&\r\n        transform(target, props.transform, [\r\n          this.DOMprops.transform.tx[2],\r\n          this.DOMprops.transform.ty[2],\r\n        ]);\r\n      this.updateOpacity &&\r\n        props.opacity >= 0 &&\r\n        (target.style.opacity = props.opacity);\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    this.paused = true;\r\n    this.delay && this.delay.pause();\r\n  }\r\n\r\n  play() {\r\n    this.paused = false;\r\n    this.delay && this.delay.play();\r\n  }\r\n\r\n  restart() {\r\n    this.pause();\r\n    this.destroy();\r\n\r\n    this.state.elapsed = 0;\r\n\r\n    this.init();\r\n    this.play();\r\n  }\r\n\r\n  destroy() {\r\n    vauTrain = vauTrain.filter((el) => el.id !== this.id);\r\n    this.delay && (this.delay = this.delay.destroy());\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * Timeline Animations\r\n *\r\n *\r\n */\r\n\r\nclass Timeline {\r\n  constructor(o) {\r\n    this.train = [];\r\n    this.delay = 0;\r\n    this.defaults = o;\r\n    bindAll(this, [\"play\", \"pause\", \"restart\"]);\r\n  }\r\n\r\n  add(o) {\r\n    o = {\r\n      ...this.defaults,\r\n      ...o,\r\n    };\r\n    // combine delays to create timeline\r\n    this.delay += o.delay || 0;\r\n    o.delay = this.delay;\r\n    this.train.push(new Vau(o));\r\n    this.delay += o.duration || 0;\r\n    return this;\r\n  }\r\n  play() {\r\n    this.train.forEach((o) => o.play());\r\n  }\r\n  pause() {\r\n    this.train.forEach((o) => o.pause());\r\n  }\r\n  restart() {\r\n    this.train.forEach((o) => o.restart());\r\n  }\r\n}\r\n\r\nexport { Vau, Timeline };\r\n","import { Vau, Timeline } from \"./vau\";\r\n\r\nexport { Vau, Timeline };\r\n","import { Sniff, damp, clamp, round, bindAll, qs, qsa, bounds } from \"../utils\";\r\nimport { ticker, ro } from \"../core\";\r\nimport { Vau } from \"../vau\";\r\n\r\nexport class Scroller {\r\n  constructor(opts) {\r\n    this.settings = {\r\n      inertia: 0.1,\r\n      dragSpeed: 2,\r\n      ...opts,\r\n    };\r\n\r\n    // convert inertia to log scale\r\n    this.settings.inertia = Math.log(1 - this.settings.inertia / 30);\r\n\r\n    this.docEl = document.scrollingElement || document.documentElement;\r\n\r\n    this.bounds = {\r\n      vh: window.innerHeight,\r\n      vw: window.innerWidth,\r\n    };\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    this.syncTrain = [];\r\n\r\n    bindAll(this, [\"resize\", \"update\", \"init\"]);\r\n\r\n    this.init();\r\n    this.listeners();\r\n    this.anchors();\r\n\r\n    ticker.add({\r\n      name: \"scroller\",\r\n      update: this.update,\r\n    });\r\n    ro.add({\r\n      name: \"scroller\",\r\n      update: this.resize,\r\n    });\r\n  }\r\n\r\n  init() {\r\n    this.scrollContent = qs(`[data-scroll-content]`, this.docEl);\r\n    this.scrollSections = qsa(`[data-scroll-section]`, this.scrollContent);\r\n    this.scrollSections =\r\n      this.scrollSections.length === 0\r\n        ? [this.scrollContent]\r\n        : this.scrollSections;\r\n\r\n    this.instance = {\r\n      cur: 0,\r\n      target: 0,\r\n      inertia: this.settings.inertia,\r\n    };\r\n\r\n    this.drag = {\r\n      isDragging: false,\r\n      snap: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      cur: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      lastScroll: 0,\r\n    };\r\n\r\n    this.resize();\r\n    this.style();\r\n\r\n    this.unlock();\r\n    this.shouldAnimate = true;\r\n    this.update();\r\n  }\r\n\r\n  get getScroll() {\r\n    return window.pageYOffset;\r\n  }\r\n\r\n  listeners() {\r\n    let deltaNorm = 1;\r\n    Sniff.firefox && (deltaNorm *= 20);\r\n\r\n    const setCurrent = (y) => {\r\n      this.instance.cur = clamp(0, y, this.scrollHeight);\r\n    };\r\n\r\n    window.addEventListener(\r\n      \"wheel\",\r\n      (e) => {\r\n        if (this.drag.isDragging || this.locked) return;\r\n        setCurrent(this.instance.cur + e.deltaY * deltaNorm);\r\n        this.shouldAnimate = true;\r\n      },\r\n      {\r\n        passive: true,\r\n      }\r\n    );\r\n\r\n    let shiftDir = 1;\r\n    let spaceGap = this.bounds.vh - 40;\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.key === \"ArrowDown\") {\r\n        setCurrent(this.instance.cur + 100);\r\n      } else if (e.key === \"ArrowUp\") {\r\n        setCurrent(this.instance.cur - 100);\r\n      } else if (\r\n        e.code == \"Space\" &&\r\n        e.target.nodeName !== \"INPUT\" &&\r\n        e.target.nodeName !== \"TEXTAREA\"\r\n      ) {\r\n        shiftDir = e.shiftKey ? -1 : 1;\r\n        setCurrent(this.instance.cur + spaceGap * shiftDir);\r\n      } else if (e.key === \"PageDown\") {\r\n        setCurrent(this.instance.cur + this.bounds.vh);\r\n      } else if (e.key === \"PageUp\") {\r\n        setCurrent(this.instance.cur - this.bounds.vh);\r\n      }\r\n    });\r\n\r\n    let start = \"start\";\r\n    let end = \"end\";\r\n    let pointer = \"touch\";\r\n    let isTouch = true;\r\n\r\n    if (!Sniff.touchDevice) {\r\n      pointer = window.PointerEvent ? \"pointer\" : \"mouse\";\r\n      start = \"down\";\r\n      end = \"up\";\r\n      isTouch = false;\r\n    }\r\n\r\n    window.addEventListener(\r\n      `${pointer}${start}`,\r\n      (e) => {\r\n        this.drag.isDragging = true;\r\n        this.drag.snap.y = isTouch ? e.changedTouches[0].clientY : e.clientY;\r\n        this.drag.lastScroll = this.instance.cur;\r\n      },\r\n      {\r\n        passive: true,\r\n      }\r\n    );\r\n\r\n    window.addEventListener(\r\n      `${pointer}move`,\r\n      (e) => {\r\n        if (!this.drag.isDragging) return;\r\n        this.drag.cur.y = isTouch ? e.changedTouches[0].clientY : e.clientY;\r\n        const diff =\r\n          (this.drag.cur.y - this.drag.snap.y) * this.settings.dragSpeed;\r\n        if (Math.abs(diff) < 15) return;\r\n        setCurrent(this.drag.lastScroll - diff);\r\n        this.shouldAnimate = true;\r\n      },\r\n      {\r\n        passive: true,\r\n      }\r\n    );\r\n\r\n    window.addEventListener(\r\n      `${pointer}${end}`,\r\n      (e) => {\r\n        if (!this.drag.isDragging) return;\r\n        this.drag.isDragging = false;\r\n      },\r\n      {\r\n        passive: true,\r\n      }\r\n    );\r\n  }\r\n\r\n  scrollTo(y) {\r\n    new Vau({\r\n      duration: 750,\r\n      easing: \"io4\",\r\n      generic: [[this.instance.cur, y]],\r\n      update: (ctx) => {\r\n        this.instance.cur = ctx.generic[0];\r\n      },\r\n    });\r\n  }\r\n\r\n  anchors() {\r\n    qs(`[data-scroll-top]`).addEventListener(\"click\", () => {\r\n      this.scrollTo(0);\r\n    });\r\n    qsa(`[data-scroll-to]`).forEach((el) => {\r\n      const target = bounds(qs(el.dataset.scrollTo)).top - 25;\r\n      el.addEventListener(\"click\", () => {\r\n        this.scrollTo(target);\r\n      });\r\n    });\r\n  }\r\n\r\n  style() {\r\n    this.scrollContent.style = `width: 100vw; min-height: 100vh; position:fixed;`;\r\n    // this.scrollSections.forEach((section) => {\r\n    //   section.style.contain = \"content\";\r\n    // });\r\n  }\r\n\r\n  resize(o = { vw: window.innerWidth, vh: window.innerHeight }) {\r\n    this.bounds = o;\r\n\r\n    this.scrollHeight =\r\n      Math.max(this.scrollContent.scrollHeight, this.bounds.vh) -\r\n      this.bounds.vh;\r\n    document.body.style.overscrollBehavior = `none`;\r\n\r\n    this.cache = [];\r\n    for (const section of this.scrollSections) {\r\n      const top = section.offsetTop;\r\n\r\n      let speed = 1;\r\n      if (section.dataset.scrollSpeed !== undefined) {\r\n        speed = parseFloat(section.dataset.scrollSpeed);\r\n      }\r\n\r\n      this.cache.push({\r\n        visible: true,\r\n        top: top - this.bounds.vh,\r\n        bottom: top + section.scrollHeight,\r\n      });\r\n    }\r\n\r\n    this.shouldAnimate = true;\r\n    this.update();\r\n  }\r\n\r\n  update(delta = 1000 / 60) {\r\n    if ((!this.shouldAnimate && this.animComplete) || this.locked) return;\r\n\r\n    this.instance.target = damp(\r\n      this.instance.target,\r\n      this.instance.cur,\r\n      this.instance.inertia,\r\n      delta\r\n    );\r\n\r\n    this.scrollSections.forEach((section, i) => {\r\n      const el = this.cache[i];\r\n      let y = this.instance.target;\r\n      if (y > el.top && y <= el.bottom) {\r\n        if (!el.visible) {\r\n          el.visible = true;\r\n          section.style.pointerEvents = \"all\";\r\n          section.style.opacity = 1;\r\n        }\r\n        section.style.transform = `translate3d(0, ${-y}px, 0)`;\r\n      } else if (el.visible) {\r\n        section.style.pointerEvents = \"none\";\r\n        section.style.opacity = 0;\r\n        section.style.transform = \"none\";\r\n        el.visible = false;\r\n      }\r\n    });\r\n\r\n    for (const update of this.syncTrain) {\r\n      update(this.instance.target);\r\n    }\r\n\r\n    this.shouldAnimate = false;\r\n  }\r\n\r\n  get animComplete() {\r\n    return round(this.instance.cur) === round(this.instance.target);\r\n  }\r\n\r\n  sync(update) {\r\n    this.syncTrain.push(update);\r\n  }\r\n\r\n  lock() {\r\n    this.locked = true;\r\n    // lock position too?\r\n  }\r\n\r\n  unlock() {\r\n    this.locked = false;\r\n  }\r\n}\r\n","import { Delay } from \"../utils\";\r\n\r\nexport class TableHover {\r\n  constructor() {\r\n    this.table = document.getElementById(\"table-container\");\r\n    this.rows = document.querySelectorAll(\".hover-line\");\r\n    this.activeRow = null;\r\n    this.currentDelay = null;\r\n    this.listen();\r\n  }\r\n\r\n  enterStyle() {\r\n    this.currentDelay = new Delay(() => {\r\n      this.table.querySelectorAll(\".inactive\").forEach((el) => {\r\n        el.style.opacity = 0;\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  leaveStyle() {\r\n    this.currentDelay.destroy();\r\n    this.rows.forEach((row) => {\r\n      row.style.opacity = 1;\r\n    });\r\n  }\r\n\r\n  listen() {\r\n    this.rows.forEach((row) => {\r\n      row.classList.add(\"inactive\");\r\n      row.addEventListener(\"pointerenter\", () => {\r\n        row.classList.remove(\"inactive\");\r\n        this.activeRow = row;\r\n        this.enterStyle();\r\n      });\r\n      row.addEventListener(\"pointerleave\", () => {\r\n        row.classList.add(\"inactive\");\r\n        this.leaveStyle();\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Observer } from \"../utils\";\r\nimport { ticker } from \"../core\";\r\n\r\nexport class ObserverEffect {\r\n  constructor(options = {}) {\r\n    this.once = options.once || true;\r\n    this.ismobile = options.ismobile || false;\r\n    this.limit = options.limit || 10;\r\n    this.observers = {};\r\n    this.control = true;\r\n\r\n    this.toVisible = [];\r\n    this.toHidden = [];\r\n    this.lock = false;\r\n\r\n    this.update = this.update.bind(this);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.splitter();\r\n    this.create({\r\n      name: \"lines\",\r\n      wrapperSelector: \".l-capture\",\r\n      targetSelector: \".l-line\",\r\n      visibleClass: \"l-visible\",\r\n    });\r\n    // this.create({\r\n    //   name: \"hr\",\r\n    //   wrapperSelector: \"hr\",\r\n    //   visibleClass: \"hr-visible\",\r\n    // });\r\n\r\n    ticker.add({\r\n      name: \"reveal\",\r\n      update: this.update,\r\n    });\r\n  }\r\n\r\n  splitter() {\r\n    const paras = document.querySelectorAll(\".l-capture\");\r\n    if (paras.length === 0) return;\r\n\r\n    const canvasEl = document.createElement(\"canvas\");\r\n    const ghost =\r\n      \"OffscreenCanvas\" in window\r\n        ? canvasEl.transferControlToOffscreen()\r\n        : canvasEl;\r\n    const context = ghost.getContext(\"2d\");\r\n\r\n    paras.forEach((para) => {\r\n      // console.log(para);\r\n      const content = para.querySelector(\".l-content\");\r\n      let words = content.textContent.split(\" \");\r\n\r\n      const lines = [];\r\n      let curline = [];\r\n\r\n      const compStyle = getComputedStyle(para);\r\n      // const sz = compStyle.getPropertyValue(\"font-size\");\r\n      // const fm = compStyle.getPropertyValue(\"font-family\");\r\n      // const fs = compStyle.getPropertyValue(\"font-style\");\r\n\r\n      // context.font = `${fs} ${sz} ${fm}`;\r\n      context.font = compStyle.getPropertyValue(\"font\");\r\n      if (compStyle.getPropertyValue(\"text-transform\") === \"uppercase\") {\r\n        words = words.map((word) => word.toUpperCase());\r\n      }\r\n\r\n      const maxwidth =\r\n        parseFloat(compStyle.getPropertyValue(\"width\")) -\r\n        parseFloat(compStyle.getPropertyValue(\"padding-left\")) -\r\n        parseFloat(compStyle.getPropertyValue(\"padding-right\"));\r\n\r\n      const num_words = words.length;\r\n      for (let i = 0; i < num_words; i++) {\r\n        let curword = words[i].trim();\r\n        if (curword.length === 0) continue;\r\n        curline.push(curword);\r\n        const line = curline.join(\" \");\r\n        if (context.measureText(line).width > maxwidth) {\r\n          // break when line length extends\r\n          const cache = curline.pop();\r\n          lines.push(curline.join(\" \"));\r\n          curline = [cache];\r\n        }\r\n      }\r\n      lines.push(curline.join(\" \"));\r\n      para.innerHTML = null;\r\n      const paraFrag = document.createDocumentFragment();\r\n      lines.forEach((line) => {\r\n        const wrapperEl = document.createElement(\"span\");\r\n        wrapperEl.classList.add(\"l-wrapper\");\r\n\r\n        const lineEl = document.createElement(\"span\");\r\n        lineEl.classList.add(\"l-line\");\r\n        lineEl.innerText = line;\r\n\r\n        wrapperEl.appendChild(lineEl);\r\n        paraFrag.appendChild(wrapperEl);\r\n      });\r\n      para.appendChild(paraFrag);\r\n      para.style.opacity = 1;\r\n      return lines;\r\n    });\r\n  }\r\n\r\n  sync(control) {\r\n    this.control = control;\r\n  }\r\n\r\n  onEntry() {\r\n    this.toVisible.forEach((node) => {\r\n      node.el.classList.add(node.visibleClass);\r\n      setTimeout(() => {\r\n        node.el.classList.remove(\"l-line\");\r\n      }, 1500);\r\n    });\r\n    this.toVisible = [];\r\n  }\r\n\r\n  onExit() {\r\n    this.toHidden.forEach((node) => {\r\n      node.el.classList.remove(node.visibleClass);\r\n    });\r\n    this.toHidden = [];\r\n  }\r\n\r\n  update() {\r\n    this.toVisible.length !== 0 && this.onEntry();\r\n    this.toHidden.length !== 0 && this.onExit();\r\n  }\r\n\r\n  create({ name, wrapperSelector, targetSelector, visibleClass }) {\r\n    const cache = {};\r\n\r\n    const callback = (node, isIntersecting, unobserve) => {\r\n      if (!this.control) return;\r\n      let els = cache[node.dataset.revealId];\r\n      let delay = parseFloat(node.dataset.revealDelay) || 75;\r\n      if (isIntersecting) {\r\n        if (this.once) {\r\n          unobserve(node);\r\n        }\r\n        els.forEach((el, i) => {\r\n          setTimeout(() => {\r\n            this.toVisible.push({\r\n              el,\r\n              visibleClass,\r\n            });\r\n          }, delay * i);\r\n        });\r\n      } else if (!this.once) {\r\n        els.forEach((el) => {\r\n          this.toHidden.push({\r\n            el,\r\n            visibleClass,\r\n          });\r\n        });\r\n      }\r\n    };\r\n\r\n    const o = Observer().create({\r\n      callback,\r\n      offset: `-5px`,\r\n      threshold: 0.9,\r\n    });\r\n\r\n    this.observers[name] = o;\r\n\r\n    document.querySelectorAll(wrapperSelector).forEach((el, i) => {\r\n      el.dataset.revealId = i;\r\n      cache[i] = el.querySelectorAll(targetSelector);\r\n      o.observe(el);\r\n    });\r\n  }\r\n\r\n  destroy() {\r\n    for (const observer in this.observer) {\r\n      observer.disconnect();\r\n    }\r\n    this.observers = {};\r\n    this.toVisible = [];\r\n    this.toHidden = [];\r\n  }\r\n}\r\n","import {\r\n    Scroller\r\n} from './nscroller';\r\nimport {\r\n    TableHover\r\n} from './tablehover';\r\nimport {\r\n    ObserverEffect\r\n} from './observerEffect'\r\n\r\n\r\n\r\n\r\nexport {\r\n    Scroller,\r\n    ObserverEffect,\r\n    TableHover\r\n}","import { ObserverEffect, Scroller, TableHover } from \"./animations\";\r\nimport { Sniff } from \"./utils\";\r\nimport { Vau } from \"./vau\";\r\n\r\nwindow.scrollTo(0, 0);\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n  let s, t;\r\n\r\n  const o = new ObserverEffect();\r\n\r\n  if (!Sniff.mobile) {\r\n    t = new TableHover();\r\n    s = new Scroller({\r\n      inertia: 0.125,\r\n    });\r\n    s.lock();\r\n  }\r\n\r\n  new Vau({\r\n    targets: \"#loader\",\r\n    opacity: [1, 0],\r\n    easing: \"i4\",\r\n    duration: 1250,\r\n    delay: Sniff.mobile ? 0 : 1500,\r\n    complete: () => {\r\n      document.getElementById(\"loader\").remove();\r\n      !Sniff.mobile && s.unlock();\r\n    },\r\n  });\r\n});\r\n\r\nconst palette = {\r\n  blue: `rgb(28,180,228)`,\r\n  orange: `rgb(252,100,4)`,\r\n  light: `rgb(230, 230, 230)`,\r\n};\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}